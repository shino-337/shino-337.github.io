<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OWASP DSOMM DevSecOps Assessment</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <header class="app-header">
      <h1 data-i18n="app.title">ƒê√°nh gi√° DSOMM (DevSecOps)</h1>
      <div class="actions">
        <div class="language-selector">
          <button id="lang-btn" class="lang-btn" title="Language">
            <span id="lang-icon">üåê</span>
            <span id="lang-text">EN</span>
          </button>
          <div id="lang-menu" class="lang-menu" style="display: none;">
            <button class="lang-option" data-lang="vi">üáªüá≥ Ti·∫øng Vi·ªát</button>
            <button class="lang-option" data-lang="en">üá¨üáß English</button>
          </div>
        </div>
        <label class="file-btn">
          <input id="import-input" type="file" accept="application/json" />
          <span data-i18n="import">Nh·∫≠p ƒë√°nh gi√°</span>
        </label>
        <button id="export-btn" class="primary" data-i18n="export">Xu·∫•t ƒë√°nh gi√°</button>
        <button id="reset-btn" class="danger" data-i18n="reset">X√≥a tr·∫°ng th√°i</button>
      </div>
    </header>

    <main class="container">
      <div class="view-tabs">
        <button class="view-tab active" data-view="dsomm" data-i18n="view.dsomm">DSOMM Assessment</button>
        <button class="view-tab" data-view="samm" data-i18n="view.samm">SAMM Mapping</button>
        <button class="view-tab" data-view="pipeline" data-i18n="view.pipeline">Pipeline Roles</button>
      </div>

      <section class="summary">
        <h2 data-i18n="summary.title">T·ªïng quan m·ª©c tr∆∞·ªüng th√†nh</h2>
        <div class="overall">
          <div class="overall-score">
            <span data-i18n="summary.current">M·ª©c hi·ªán t·∫°i:</span>
            <strong id="overall-score">-</strong>
            <span class="scale" data-i18n="summary.scale">(thang 1‚Äì5)</span>
          </div>
          <div class="overall-bar">
            <div id="overall-progress" class="progress"></div>
          </div>
          <div class="segments" id="overall-segments"></div>
          <div class="overall-legend">
            <span class="legend-item"><span class="legend-color lv1"></span>Level 1</span>
            <span class="legend-item"><span class="legend-color lv2"></span>Level 2</span>
            <span class="legend-item"><span class="legend-color lv3"></span>Level 3</span>
            <span class="legend-item"><span class="legend-color lv4"></span>Level 4</span>
            <span class="legend-item"><span class="legend-color lv5"></span>Level 5</span>
          </div>
        </div>
        <div id="domain-cards" class="domains"></div>
        <div class="chart-section">
          <h3 data-i18n="summary.analysis">Bi·ªÉu ƒë·ªì ph√¢n t√≠ch</h3>
          <div id="radar-chart" class="radar-chart"></div>
        </div>
      </section>

      <section class="samm-mapping" style="display:none;">
        <div class="matrix-header sticky">
          <h2 data-i18n="samm.title">Mapping v·ªõi OWASP SAMM 2.0</h2>
          <div class="matrix-controls">
            <select id="samm-function-filter">
              <option value="">T·∫•t c·∫£ Functions</option>
            </select>
            <select id="samm-stream-filter">
              <option value="">T·∫•t c·∫£ Streams</option>
              <option value="A">Stream A</option>
              <option value="B">Stream B</option>
              <option value="C">Stream C</option>
            </select>
          </div>
        </div>
        <div class="samm-chart-section">
          <h3 data-i18n="samm.chart">Bi·ªÉu ƒë·ªì SAMM</h3>
          <div id="samm-chart" class="samm-chart"></div>
        </div>
        <div id="samm-matrix"></div>
      </section>

      <section class="pipeline-roles" style="display:none;">
        <div class="pipeline-header">
          <h2 data-i18n="pipeline.title">DevSecOps Pipeline Roles</h2>
          <div class="pipeline-controls">
            <button id="pipeline-edit-btn" class="primary" data-i18n="pipeline.edit">Ch·ªânh s·ª≠a</button>
            <button id="pipeline-view-btn" class="primary" data-i18n="pipeline.view" style="display:none;">Xem Dashboard</button>
          </div>
        </div>
        <div id="pipeline-edit-form" class="pipeline-edit-form">
          <div class="pipeline-stages">
            <div class="stage-section" data-stage="plan">
              <h3 data-i18n="pipeline.stage.plan">Plan</h3>
              <div class="role-tasks">
                <div class="role-section" data-role="dev">
                  <h4 data-i18n="pipeline.role.dev">Developer</h4>
                  <div class="tasks-list" id="tasks-plan-dev"></div>
                </div>
                <div class="role-section" data-role="sec">
                  <h4 data-i18n="pipeline.role.sec">Security</h4>
                  <div class="tasks-list" id="tasks-plan-sec"></div>
                </div>
                <div class="role-section" data-role="ops">
                  <h4 data-i18n="pipeline.role.ops">Operations</h4>
                  <div class="tasks-list" id="tasks-plan-ops"></div>
                </div>
              </div>
            </div>
            <div class="stage-section" data-stage="code">
              <h3 data-i18n="pipeline.stage.code">Code</h3>
              <div class="role-tasks">
                <div class="role-section" data-role="dev">
                  <h4 data-i18n="pipeline.role.dev">Developer</h4>
                  <div class="tasks-list" id="tasks-code-dev"></div>
                </div>
                <div class="role-section" data-role="sec">
                  <h4 data-i18n="pipeline.role.sec">Security</h4>
                  <div class="tasks-list" id="tasks-code-sec"></div>
                </div>
                <div class="role-section" data-role="ops">
                  <h4 data-i18n="pipeline.role.ops">Operations</h4>
                  <div class="tasks-list" id="tasks-code-ops"></div>
                </div>
              </div>
            </div>
            <div class="stage-section" data-stage="build">
              <h3 data-i18n="pipeline.stage.build">Build</h3>
              <div class="role-tasks">
                <div class="role-section" data-role="dev">
                  <h4 data-i18n="pipeline.role.dev">Developer</h4>
                  <div class="tasks-list" id="tasks-build-dev"></div>
                </div>
                <div class="role-section" data-role="sec">
                  <h4 data-i18n="pipeline.role.sec">Security</h4>
                  <div class="tasks-list" id="tasks-build-sec"></div>
                </div>
                <div class="role-section" data-role="ops">
                  <h4 data-i18n="pipeline.role.ops">Operations</h4>
                  <div class="tasks-list" id="tasks-build-ops"></div>
                </div>
              </div>
            </div>
            <div class="stage-section" data-stage="test">
              <h3 data-i18n="pipeline.stage.test">Test</h3>
              <div class="role-tasks">
                <div class="role-section" data-role="dev">
                  <h4 data-i18n="pipeline.role.dev">Developer</h4>
                  <div class="tasks-list" id="tasks-test-dev"></div>
                </div>
                <div class="role-section" data-role="sec">
                  <h4 data-i18n="pipeline.role.sec">Security</h4>
                  <div class="tasks-list" id="tasks-test-sec"></div>
                </div>
                <div class="role-section" data-role="ops">
                  <h4 data-i18n="pipeline.role.ops">Operations</h4>
                  <div class="tasks-list" id="tasks-test-ops"></div>
                </div>
              </div>
            </div>
            <div class="stage-section" data-stage="release">
              <h3 data-i18n="pipeline.stage.release">Release</h3>
              <div class="role-tasks">
                <div class="role-section" data-role="dev">
                  <h4 data-i18n="pipeline.role.dev">Developer</h4>
                  <div class="tasks-list" id="tasks-release-dev"></div>
                </div>
                <div class="role-section" data-role="sec">
                  <h4 data-i18n="pipeline.role.sec">Security</h4>
                  <div class="tasks-list" id="tasks-release-sec"></div>
                </div>
                <div class="role-section" data-role="ops">
                  <h4 data-i18n="pipeline.role.ops">Operations</h4>
                  <div class="tasks-list" id="tasks-release-ops"></div>
                </div>
              </div>
            </div>
            <div class="stage-section" data-stage="deploy">
              <h3 data-i18n="pipeline.stage.deploy">Deploy</h3>
              <div class="role-tasks">
                <div class="role-section" data-role="dev">
                  <h4 data-i18n="pipeline.role.dev">Developer</h4>
                  <div class="tasks-list" id="tasks-deploy-dev"></div>
                </div>
                <div class="role-section" data-role="sec">
                  <h4 data-i18n="pipeline.role.sec">Security</h4>
                  <div class="tasks-list" id="tasks-deploy-sec"></div>
                </div>
                <div class="role-section" data-role="ops">
                  <h4 data-i18n="pipeline.role.ops">Operations</h4>
                  <div class="tasks-list" id="tasks-deploy-ops"></div>
                </div>
              </div>
            </div>
            <div class="stage-section" data-stage="operate">
              <h3 data-i18n="pipeline.stage.operate">Operate</h3>
              <div class="role-tasks">
                <div class="role-section" data-role="dev">
                  <h4 data-i18n="pipeline.role.dev">Developer</h4>
                  <div class="tasks-list" id="tasks-operate-dev"></div>
                </div>
                <div class="role-section" data-role="sec">
                  <h4 data-i18n="pipeline.role.sec">Security</h4>
                  <div class="tasks-list" id="tasks-operate-sec"></div>
                </div>
                <div class="role-section" data-role="ops">
                  <h4 data-i18n="pipeline.role.ops">Operations</h4>
                  <div class="tasks-list" id="tasks-operate-ops"></div>
                </div>
              </div>
            </div>
            <div class="stage-section" data-stage="monitor">
              <h3 data-i18n="pipeline.stage.monitor">Monitor</h3>
              <div class="role-tasks">
                <div class="role-section" data-role="dev">
                  <h4 data-i18n="pipeline.role.dev">Developer</h4>
                  <div class="tasks-list" id="tasks-monitor-dev"></div>
                </div>
                <div class="role-section" data-role="sec">
                  <h4 data-i18n="pipeline.role.sec">Security</h4>
                  <div class="tasks-list" id="tasks-monitor-sec"></div>
                </div>
                <div class="role-section" data-role="ops">
                  <h4 data-i18n="pipeline.role.ops">Operations</h4>
                  <div class="tasks-list" id="tasks-monitor-ops"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div id="pipeline-dashboard" class="pipeline-dashboard" style="display:none;">
          <div id="pipeline-visualization" class="pipeline-visualization"></div>
        </div>
      </section>

      <section class="matrix">
        <div class="matrix-header sticky">
          <h2 data-i18n="matrix.title">Ma tr·∫≠n ti√™u ch√≠</h2>
          <div class="matrix-controls">
            <select id="domain-filter">
              <option value="" data-i18n="matrix.allDomains">T·∫•t c·∫£ Domain</option>
            </select>
            <input type="text" id="search-input" data-i18n-placeholder="matrix.search" placeholder="T√¨m ki·∫øm..." />
            <label style="display:flex;align-items:center;gap:6px;">
              <input type="checkbox" id="dense-toggle" /> <span data-i18n="matrix.dense">C√¥ ƒë·ªçng</span>
            </label>
          </div>
          <div class="pagination">
            <button id="collapse-all" class="page-btn" data-i18n="matrix.collapseAll">Thu g·ªçn t·∫•t c·∫£</button>
            <button id="expand-all" class="page-btn" data-i18n="matrix.expandAll">M·ªü r·ªông t·∫•t c·∫£</button>
            <button id="prev-page" class="page-btn" data-i18n="matrix.prev">‚Äπ Tr∆∞·ªõc</button>
            <span id="page-info" data-i18n="matrix.page">Trang 1 / 1</span>
            <button id="next-page" class="page-btn" data-i18n="matrix.next">Sau ‚Ä∫</button>
          </div>
        </div>
        <div id="matrix"></div>
      </section>
    </main>

    <footer class="app-footer">
      <span>OWASP DSOMM DevSecOps ‚Äì B·∫£n demo t·ª± ƒë√°nh gi√° n·ªôi b·ªô</span>
      <a href="https://owasp.org/www-project-devsecops-maturity-model/" target="_blank" rel="noreferrer">T√†i li·ªáu DSOMM DevSecOps</a>
    </footer>

    <script src="./app.js"></script>
  </body>
  </html>


